@using Boonker.Data;
@model UserViewModel 


<link rel="stylesheet" href="~/assets/css/fontawesome.css">
<link rel="stylesheet" href="~/assets/css/templatemo-cyborg-gaming.css">
<link rel="stylesheet" href="~/assets/css/owl.css">
<link rel="stylesheet" href="~/assets/css/animate.css">
<link rel="stylesheet" href="https://unpkg.com/swiper@7/swiper-bundle.min.css" />


            <!-- ***** Banner Start ***** -->
            <div class="row">
                <div class="col-lg-12">
                    <div class="main-profile ">
                        <div class="row">
                            <div class="col-lg-4">
                                <img src="~/files/users/@Model.currentUser.Image" alt="Book Image" style="border-radius: 23px;">
                            </div>
                            <div class="col-lg-4 align-self-center">
                                <div class="main-info header-text">

                                    <h4>@Model.currentUser.UserName</h4>
                                    <p>@Model.currentUser.About</p>
                                    <div class="main-border-button">
                                        <a href="/Home/UserEdit/@Model.currentUser.addId">Edit Profile</a>
                                        <a href="/Home/ChangePassword/@Model.currentUser.addId">Change Password</a>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-4 align-self-center">
                                <ul>
                                    <li>User Role <span>@Model.currentUser.Role</span></li>
                                    <li>Fllowers<span>@Model.currentUser.Followers</span></li>
                                    <li>Books count <span>@Model.UserBooks.Count()</span></li>
                                    <li> All Books: 
                                        @{
                                            foreach (var book in Model.UserBooks)
                                            {
                                                <span>
                                                <a href="@Url.Action("Book", "Books", new { @id=book.Id })">
                                                    @book.Title </a></span>
                                            } 
                                            }
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-lg-12">
                                <div class="clips">
                                    <div class="row">
                                        <div class="col-lg-12">
                                            <div class="heading-section">
                                                <h4><em>User Created</em> Books </h4>
                                            </div>
                                            @{
                                                if (Model.UserBooks != null)
                                                {
                                                    foreach (var book in Model.UserBooks)
                                                    {

                                                        <div class="col-lg-3 col-sm-6">
                                                            <div class="item">
                                                                <a href="/Books/Book/@book.Id"><img src="~/files/books/@book.ImgEntry.Image1.ToString()" alt=""></a>
                                                                <h4>@book.Title<br><a href="@Url.Action("AuthorPage","Author", new { @AuthorId = @book.Author.Id })"><span>@book.Author.FirstName @book.Author.LastName</span></a></h4>
                                                                <ul>
                                                                    <li>@book.Price.ToString("c")</li>
                                                                    <li><i class="fa fa-download"></i> 2.3M</li>
                                                                </ul>
                                                                <div class="text-button accordion">
                                                                    <a href="@Url.Action("Delete", "Books", new { @id = @book.Id })">Delete</a>
                                                                </div>
                                                                <div class="text-button accordion">
                                                                    <a href="@Url.Action("UpdateBook", "Books", new { @id = @book.Id })">Update</a>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    }
                                                }

                                            }
                                        </div>
                                        <div>
                                            <canvas width="100" height="100" id="myChart"></canvas>
                                        </div>

                                        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

                                        <script>
                                            const ctx = document.getElementById('myChart');

                                            const labels = Utils.months({ count: 7 });
                                            const data = {
                                                labels: labels,
                                                datasets: [{
                                                    label: 'My First Dataset',
                                                    data: [65, 59, 80, 81, 56, 55, 40],
                                                    fill: false,
                                                    borderColor: 'rgb(75, 192, 192)',
                                                    tension: 0.1
                                                }]
                                            };

                                            const config = {
                                                type: 'line',
                                                data: data,
                                                options: {}
                                            };

                                            new Chart(ctx, config);
                                        </script>


                                        <div class="col-lg-12">
                                            <div class="main-button">
                                                <a href="#">Load More Clips</a>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- ***** Banner End ***** -->



<script src="~/vendor/jquery/jquery.min.js"></script>
<script src="vendor/bootstrap/js/bootstrap.min.js"></script>

<script src="~/assets/js/isotope.min.js"></script>
<script src="~/assets/js/owl-carousel.js"></script>
<script src="~/assets/js/tabs.js"></script>
<script src="~/assets/js/popup.js"></script>
<script src="~/assets/js/custom.js"></script>