@using Boonker.Data;
@model ViewModel
@*<h1>Books</h1>*@

<div class="most-popular">
    <div class="row">
        <div class="col-lg-12">
            <div class="heading-section">
                @{
                    if (Model.cats is not null)
                    {
                        <h4><em>Most Popular</em> @Model.cats.Name <em>Right Now</em></h4>
                    }
                    else{
                        <h4><em>Most Popular Right Now</em></h4>
                    }
                }
                <ul class="nav">
                    <li style="padding:20px;">
                        <a class="active" href="/Books/List/">All Categories</a>
                    </li>
                    @{
                        foreach (var cats in Model.AllCats)
                        {
                            <li style="padding:20px;">
                                <a class="active" href="/Books/List/@cats.Name">@cats.Name</a>
                            </li>
                        }
                    }
                </ul>
                @{ if (Model.cats is not null)
                    {
                        <li style="padding-left:45px;">
                            <p>@Model.cats.DSCR</p>}
                        </li>

                    }
                }
            </div>
            <div class="row">
                @{
                    foreach (var book in Model.Allbooks)
                    {
                        
                    <div class="col-lg-3 col-sm-6">
                        <div class="item">
                            <a href="/Books/Book/@book.Id"><img src="~/files/books/@book.ImgEntry.Image1.ToString()" alt=""></a>
                            <h4>@book.Title<br><a href="@Url.Action("AuthorPage","Author", new { @AuthorId = @book.Author.Id })"><span>@book.Author.FirstName @book.Author.LastName</span></a></h4>
                            <ul>
                                <li>@book.Price.ToString("c")</li>
                                <li><i class="fa fa-download"></i> 2.3M</li>
                            </ul>
                            <div class="text-button accordion">
                                <a href="@Url.Action("Delete", "Books", new { @id = @book.Id })">Delete</a>
                            </div>
                            <div class="text-button accordion">
                                <a href="@Url.Action("UpdateBook", "Books", new { @id = @book.Id })">Update</a>
                            </div>
                        </div>
                    </div>
                        }

                }
                <div class="col-lg-12">
                    <div class="main-button">
                        <a href="/Books/Charts/">Discover Popular</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>